webpackJsonp([0],{"../scss/app.scss":function(e,t){},"./actions/actionCreators.js":function(e,t,n){n("../../node_modules/lodash/lodash.js"),n("../../node_modules/moment/moment.js"),n("./actions/createAccountAction.js")(),n("./actions/createAccountAction.js")(),n("./actions/getMessageAction.js")(),n("./actions/writeMessageAction.js")(),n("./actions/deleteMessageAction.js")();e.exports=function(){}},"./actions/createAccountAction.js":function(e,t){e.exports=function(){function e(){return{type:"REQUEST_CREATE_ACCOUNT"}}function t(e){return{type:"RECEIVED_CREATE_ACCOUNT",token:e.token,user:e.user}}function n(){return{type:"FAIL_CREATE_ACCOUNT"}}return{request_create_account:e,received_create_account:t,fail_create_account:n}}},"./actions/deleteMessageAction.js":function(e,t){e.exports=function(){function e(){return{type:"REQUEST_DELETE_MESSAGE"}}function t(e){return{type:"RECEIVED_DELETE_MESSAGE",message:e}}function n(){return{type:"FAIL_DELETE_MESSAGE"}}return{request_delete_message:e,received_delete_message:t,fail_delete_message:n}}},"./actions/getMessageAction.js":function(e,t){e.exports=function(){function e(){return{type:"REQUEST_GET_MESSAGES"}}function t(e){return _.map(e,function(e){return e.date=moment(e.date).fromNow(),e}),{type:"RECEIVED_GET_MESSAGES",messages:_.sortBy(e,"date")}}function n(){return{type:"FAIL_GET_MESSAGES"}}return{request_get_messages:e,received_get_messages:t,fail_get_messages:n}}},"./actions/writeMessageAction.js":function(e,t){e.exports=function(){function e(){return{type:"REQUEST_WRITE_MESSAGE"}}function t(){return{type:"RECEIVED_WRITE_MESSAGE"}}function n(){return{type:"FAIL_WRITE_MESSAGE"}}return{request_write_message:e,received_write_message:t,fail_write_message:n}}},"./components/App.js":function(e,t,n){function s(e){return{token:e.login.token,user:e.login.user,messages:e.message.messages}}function a(e){return r(c,e)}var r=n("../../node_modules/redux/es/index.js").bindActionCreators,o=n("../../node_modules/react-redux/lib/index.js").connect,c=n("./actions/actionCreators.js"),u=n("./components/Main.js"),l=o(s,a)(u);e.exports={App:l,mapDispatchToProps:a}},"./components/CreateAccount.js":function(e,t,n){"use strict";var s=n("../../node_modules/react/react.js"),a=n.n(s),r=function(e){var t={login:"",password:"",image:""},n=function(n){n.preventDefault(),e.createAccount(t.login,t.password,t.image)},s=function(e,n){return t[e]=n};return a.a.createElement("form",{onSubmit:n,className:"user-form"},a.a.createElement("label",null,"Login : "),a.a.createElement("input",{type:"text",id:"login",onChange:function(e){return s("login",e.target.value)}}),a.a.createElement("br",null),a.a.createElement("label",null,"Password : "),a.a.createElement("input",{type:"password",id:"password",onChange:function(e){return s("password",e.target.value)}}),a.a.createElement("br",null),a.a.createElement("label",null,"Url image : "),a.a.createElement("input",{type:"text",id:"image",onChange:function(e){return s("image",e.target.value)}}),a.a.createElement("br",null),a.a.createElement("button",{type:"submit"},"Login"))};t.a=r},"./components/ListMessages.js":function(e,t,n){var s=n("../../node_modules/react/react.js"),a=n("../../node_modules/lodash/lodash.js"),r=n("./components/MessageEdit.js"),o=n("./components/MessageDisplay.js"),c=n("../../node_modules/jwt-decode/lib/index.js"),u=function(e){var t=[];return e.token&&a.isEmpty(e.messages)?e.getMessages(e.token):a.isEmpty(e.messages)&&e.router.push("/"),!a.isUndefined(e.messages)&&a.isArray(e.messages)&&e.messages.map(function(n){var a=c.decode(e.token).user_id,r=n.user_id===a;t.push(s.createElement(o,{key:n.id,user:n.user,deletable:r,content:n.message,date:n.date,parent:e}))}),s.createElement("div",{className:"block-messages"},s.createElement("div",{className:"list-messages"},t),s.createElement(r,{message:null,parent:e}))};e.exports=u},"./components/Login.js":function(e,t,n){"use strict";var s=n("../../node_modules/react/react.js"),a=n.n(s),r=function(e){var t={login:"",password:""};e.token&&e.router.push("/messages");var n=function(n){n.preventDefault(),e.login(t.login,t.password)},s=function(e,n){t[e]=n};return a.a.createElement("form",{onSubmit:n,className:"user-form"},a.a.createElement("div",{className:"form-group"},a.a.createElement("label",null,"Login : "),a.a.createElement("input",{type:"text",id:"login",onChange:function(e){return s("login",e.target.value)}}),a.a.createElement("br",null)),a.a.createElement("div",{className:"form-group"},a.a.createElement("label",null,"Password : "),a.a.createElement("input",{type:"password",id:"password",onChange:function(e){return s("password",e.target.value)}}),a.a.createElement("br",null)),a.a.createElement("div",{className:"form-group"},a.a.createElement("button",{type:"submit"},"Login")))};t.a=r},"./components/Main.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=n("../../node_modules/react/react.js"),a=n.n(s),r=n("../../node_modules/react-router/es/index.js"),o=function(e){var t=[],n="";!e.token&&sessionStorage.getItem("token")&&sessionStorage.getItem("user")&&e.autoConnect(sessionStorage.getItem("token"),sessionStorage.getItem("user"));var s=function(t){t.preventDefault(),sessionStorage.clear(),e.logout()},o=function(t){t.preventDefault(),e.getMessages(e.token)};return e.token?(t.push(a.a.createElement("li",{key:"menu-"},a.a.createElement("a",{onClick:o},a.a.createElement("i",{className:"fa fa-refresh"})," "))),t.push(a.a.createElement("li",{key:"menu-0"},a.a.createElement(r.d,{to:"/messages"},"List of messy"))),t.push(a.a.createElement("li",{key:"menu-1"},a.a.createElement("a",{onClick:s},"Logout"))),n=a.a.createElement("span",null," - ",a.a.createElement("i",{className:"fa fa-user"}))):(t.push(a.a.createElement("li",{key:"menu-2"},a.a.createElement(r.d,{to:"/sign-in"},"Sign In"))),t.push(a.a.createElement("li",{key:"menu-3"},a.a.createElement(r.d,{to:"/sign-up"},"Sign Up")))),a.a.createElement("div",{className:"block"},a.a.createElement("h1",{id:"title"},a.a.createElement(r.d,{to:"/"},"Messy ",a.a.createElement("i",{className:"fa fa-envelope-o"})," ",n)),a.a.createElement("nav",null,a.a.createElement("ul",null,t)),a.a.cloneElement(e.children,e))};t.default=o},"./components/MessageDisplay.js":function(e,t,n){var s=n("../../node_modules/react/react.js"),a=n("./components/User.js"),r=function(e){var t=null,n=function(){e.deleteMessage(e.key,e.parent.token)};return e.deletable&&(t=s.createElement("a",{onClick:n},s.createElement("i",{className:"fa fa-times"}))),s.createElement("div",{className:"message"},s.createElement("div",{className:"user-block"},s.createElement(a,{name:e.user.name,image:e.user.image})),s.createElement("div",{className:"content-block"},s.createElement("p",null,e.content),s.createElement("div",{className:"delete-block"},t),s.createElement("div",{className:"date-block"},e.date)))};e.exports=r},"./components/MessageEdit.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=n("../../node_modules/react/react.js"),a=n.n(s),r=function(e){var t=null,n=function(n){n.preventDefault(),e.parent.writeMessage(t,e.parent.token),t="",e.parent.getMessages(e.parent.token)},s=function(e){return t=e.target.value};return a.a.createElement("form",{onSubmit:n,className:"write-form"},a.a.createElement("div",null,a.a.createElement("input",{type:"text",id:"write-msg",name:"write-msg",value:t,onChange:s}),a.a.createElement("button",{type:"submit"},a.a.createElement("i",{className:"fa fa-send"})," ")))};t.default=r},"./components/User.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=n("../../node_modules/react/react.js"),a=n.n(s),r=function(e){return a.a.createElement("div",{className:"user"},a.a.createElement("img",{src:e.image,width:"50",height:"50",alt:e.name}),a.a.createElement("p",null,e.name))};t.default=r},"./index.js":function(e,t,n){"use strict";function s(e){return r.a.createElement(c.Provider,{store:m.a},r.a.createElement(u.a,{history:m.b},r.a.createElement(u.b,{path:"/",component:i.a},r.a.createElement(u.c,{component:f.a}," "),r.a.createElement(u.b,{path:"/create",component:d.a}," "),r.a.createElement(u.b,{path:"/sign-in",component:f.a}," "),r.a.createElement(u.b,{path:"/sign-up",component:d.a}," "),r.a.createElement(u.b,{path:"/messages",component:p.a}," "))))}Object.defineProperty(t,"__esModule",{value:!0});var a=n("../../node_modules/react/react.js"),r=n.n(a),o=n("../../node_modules/react-dom/index.js"),c=(n.n(o),n("../../node_modules/react-redux/lib/index.js")),u=(n.n(c),n("../../node_modules/react-router/es/index.js")),l=n("./components/App.js"),i=n.n(l),E=n("../scss/app.scss"),m=(n.n(E),n("./store.js")),d=n("./components/CreateAccount.js"),g=n("./components/ListMessages.js"),p=n.n(g),f=n("./components/Login.js");n.i(o.render)(r.a.createElement(s,null),document.getElementById("root"))},"./reducers/index.js":function(e,t,n){"use strict";var s=n("../../node_modules/redux/es/index.js"),a=n("../../node_modules/react-router-redux/lib/index.js"),r=(n.n(a),n("./reducers/login.js")),o=n("./reducers/message.js"),c=n.i(s.combineReducers)({login:r.a,message:o.a,routing:a.routerReducer});t.a=c},"./reducers/login.js":function(e,t,n){"use strict";function s(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1];switch(t.type){case"REQUEST_LOGIN":return console.log("ACTION | LOGIN REQUEST ***"),e;case"RECEIVED_LOGIN":return console.log("ACTION | LOGIN RECEIVED ***"),sessionStorage.setItem("token",t.token),sessionStorage.setItem("user",t.user),Object.assign({},e,{token:t.token,user:t.user});case"FAIL_LOGIN":return console.log("ACTION | LOGIN FAIL ***"),e;case"LOGOUT":return console.log("ACTION | LOGOUT ***"),Object.assign.apply(Object,[{}].concat(s(e),[{token:null,user:null}]));case"REQUEST_CREATE_ACCOUNT":return console.log("ACTION | CREATE ACCOUNT REQUEST ***"),e;case"RECEIVED_CREATE_ACCOUNT":return console.log("ACTION | CREATE ACCOUNT RECEIVED ***"),sessionStorage.setItem("user",t.user),sessionStorage.setItem("token",t.token),Object.assign.apply(Object,[{}].concat(s(e),[{token:t.token,user:t.user}]));case"FAIL_CREATE_ACCOUNT":return console.log("ACTION | CREATE ACCOUNT FAIL ***"),e;case"AUTO_CONNECT":return console.log("ACTION | AUTO CONNECT ***"),Object.assign.apply(Object,[{}].concat(s(e),[{token:t.token,user:t.user}]));default:return e}}t.a=a},"./reducers/message.js":function(e,t,n){"use strict";function s(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1];switch(t.type){case"REQUEST_GET_MESSAGES":return console.log("ACTION | GET MESSAGES REQUEST ***"),e;case"RECEIVED_GET_MESSAGES":return console.log("ACTION | GET MESSAGES RECEIVED ***"),Object.assign.apply(Object,[{}].concat(s(e),[{messages:t.messages}]));case"FAIL_GET_MESSAGES":return console.log("ACTION | GET MESSAGES FAIL ***"),e;case"REQUEST_WRITE_MESSAGE":return console.log("ACTION | WRITE MESSAGE REQUEST ***"),e;case"RECEIVED_WRITE_MESSAGE":return console.log("ACTION | WRITE MESSAGE RECEIVED ***"),e;case"FAIL_WRITE_MESSAGE":return console.log("ACTION | WRITE MESSAGE FAIL ***"),e;case"REQUEST_DELETE_MESSAGE":return console.log("ACTION | DELETE MESSAGE REQUEST ***"),e;case"RECEIVED_DELETE_MESSAGE":return console.log("ACTION | DELETE MESSAGE RECEIVED ***"),e;case"FAIL_DELETE_MESSAGE":return console.log("ACTION | DELETE MESSAGES FAIL ***"),e;default:return e}}t.a=a},"./store.js":function(e,t,n){"use strict";n.d(t,"b",function(){return m});var s=n("../../node_modules/redux/es/index.js"),a=n("../../node_modules/react-router-redux/lib/index.js"),r=(n.n(a),n("../../node_modules/react-router/es/index.js")),o=n("./reducers/index.js"),c=n("../../node_modules/redux-thunk/lib/index.js"),u=n.n(c),l={},i=n.i(s.compose)(n.i(s.applyMiddleware)(u.a),window.devToolsExtension?window.devToolsExtension():function(e){return e}),E=n.i(s.createStore)(o.a,l,i),m=n.i(a.syncHistoryWithStore)(r.e,E);t.a=E}},["./index.js"]);